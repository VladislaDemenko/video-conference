<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Conference Room</title>
    <link rel="stylesheet" th:href="@{/css/room.css}">
</head>
<body>
<div class="room-container">
    <!-- Header -->
    <header class="room-header">
        <div class="room-info">
            <h2 id="roomName">–ö–æ–º–Ω–∞—Ç–∞</h2>
            <div class="participants-count">
                <span id="participantsCount">0</span> —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
            </div>
        </div>
        <div class="room-controls">
            <button id="inviteBtn" class="btn-secondary">–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å</button>
            <button id="leaveBtn" class="btn-danger">–í—ã–π—Ç–∏</button>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Video Grid -->
        <div class="video-section">
            <div id="videoGrid" class="video-grid">
                <!-- –í–∏–¥–µ–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>

            <!-- Local Video -->
            <div class="local-video-container">
                <video id="localVideo" autoplay muted></video>
                <div class="video-controls">
                    <button id="toggleVideo" class="control-btn video-active">üé•</button>
                    <button id="toggleAudio" class="control-btn audio-active">üé§</button>
                    <button id="screenShare" class="control-btn">üñ•Ô∏è</button>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
            <!-- Participants List -->
            <div class="participants-section">
                <h3>–£—á–∞—Å—Ç–Ω–∏–∫–∏</h3>
                <div id="participantsList" class="participants-list">
                    <!-- –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ -->
                </div>
            </div>

            <!-- Chat -->
            <div class="chat-section">
                <h3>–ß–∞—Ç</h3>
                <div id="chatMessages" class="chat-messages">
                    <!-- –°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞ -->
                </div>
                <div class="chat-input">
                    <input type="text" id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                    <button id="sendMessage">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Invite Modal -->
<div id="inviteModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h3>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –≤ –∫–æ–º–Ω–∞—Ç—É</h3>
        <p>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É:</p>
        <input type="text" id="inviteLink" readonly>
        <button id="copyLink">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
    </div>
</div>

<script src="/webjars/sockjs-client/sockjs.min.js"></script>
<script src="/webjars/stomp-websocket/stomp.min.js"></script>
<script th:src="@{/js/room.js}"></script>
</body>
</html>